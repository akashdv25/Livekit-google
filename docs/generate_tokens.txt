https://docs.livekit.io/home/server/generating-tokens/

Generating tokens
Generate tokens for your frontend

Copy page
In order for frontend apps to connect to LiveKit rooms, they need a token generated by your backend server. In this guide, we'll walk through how to set up a server to generate tokens for your frontend.

1. Install LiveKit Server SDK
GoNode.jsRubyPythonRustPHP
pip install livekit-api

2. Keys and Configuration
Create a new file at development.env and with your API Key and Secret:

export LIVEKIT_API_KEY=<your API Key>
export LIVEKIT_API_SECRET=<your API Secret>
Reveal API Key and Secret

3. Make an endpoint that returns a token
Create a server:

# server.py
import os
from livekit import api
from flask import Flask

app = Flask(__name__)

@app.route('/getToken')
def getToken():
  token = api.AccessToken(os.getenv('LIVEKIT_API_KEY'), os.getenv('LIVEKIT_API_SECRET')) \
    .with_identity("identity") \
    .with_name("my name") \
    .with_grants(api.VideoGrants(
        room_join=True,
        room="my-room",
    ))
  return token.to_jwt()

Load the environment variables and run the server:

GoNode.jsRubyPythonRustPHP
$ source development.env
$ python server.py